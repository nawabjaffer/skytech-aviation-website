/**
 * Loading Animation Styles
 * 
 * Performance optimizations:
 * - GPU-accelerated transforms (translate3d, scale3d, rotate3d)
 * - will-change hints for animated properties
 * - Avoid layout thrashing (no width/height/margin animations)
 * - Use opacity for show/hide (not display)
 * 
 * Accessibility:
 * - Respects prefers-reduced-motion
 * - Screen reader friendly
 * - Keyboard accessible
 */

/* ========================================
   Container & Background
   ======================================== */

/* Prevent body scroll during loading animation */
body:has(.loading-animation-container:not(.exiting)) {
  overflow: hidden;
  position: fixed;
  width: 100%;
  height: 100%;
}

/* Animation tuning variables - sensible defaults for desktop */
:root {
  --gear-rotation-duration: 1s;
  --gear-rotation-fast-duration: 0.833s;
  --plane-arc-duration: 3s;
  --particle-float-duration: 10s;
  --progress-ring-duration: 5s;
  --portal-glow-duration: 0.8s;
}

.loading-animation-container {
  position: fixed;
  top: 0;
  left: 0;
  width: 100vw;
  height: 100vh;
  z-index: 9999;
  display: flex;
  align-items: center;
  justify-content: center;
  overflow: hidden;
  opacity: 1;
  visibility: visible;
  background: var(--color-primary-900, #1a237e);
}

.loading-animation-container.phase-4 {
  /* Circular mask that shrinks to reveal homepage behind */
  animation: shrinkCircularMask 1.5s cubic-bezier(0.6, 0, 0.4, 1) forwards;
}

@keyframes shrinkCircularMask {
  0% {
    clip-path: circle(0% at 50% 50%);
    opacity: 1;
  }
  50% {
    clip-path: circle(35% at 50% 50%);
    opacity: 0.2;
  }
  100% {
    clip-path: circle(150% at 50% 50%);
    opacity: 0;
    display: none;
  }
}

.loading-animation-container.exiting {
  opacity: 0;
  visibility: hidden;
  pointer-events: none;
  transition: opacity 0.3s ease, visibility 0s 0.3s;
}

/* Paused state - freeze all animations */
.loading-animation-container.paused {
  pointer-events: auto;
}

.loading-animation-container.paused *,
.loading-animation-container.paused *::before,
.loading-animation-container.paused *::after {
  animation-play-state: paused !important;
}

.loading-background {
  position: absolute;
  inset: 0;
  background: linear-gradient(135deg, #0ea5e9 0%, #1e3a8a 100%);
  overflow: hidden;
}

/* Phase 4: Circular mask reveals homepage */
.loading-animation-container.phase-4 .loading-background {
  animation: fadeOutBackground 1.2s cubic-bezier(0.4, 0, 0.2, 1) forwards;
}

@keyframes fadeOutBackground {
  0% {
    opacity: 1;
  }
  50% {
    opacity: 0.5;
  }
  100% {
    opacity: 0;
  }
}

/* Animated particles */
.particle {
  position: absolute;
  width: 4px;
  height: 4px;
  background: rgba(255, 255, 255, 0.6);
  border-radius: 50%;
  animation: float var(--particle-float-duration) infinite ease-in-out;
  will-change: transform, opacity;
}

.particle-1 { top: 20%; left: 10%; animation-delay: 0s; animation-duration: 8s; }
.particle-2 { top: 40%; left: 80%; animation-delay: 1s; animation-duration: 10s; }
.particle-3 { top: 60%; left: 20%; animation-delay: 2s; animation-duration: 12s; }
.particle-4 { top: 80%; left: 70%; animation-delay: 3s; animation-duration: 9s; }
.particle-5 { top: 30%; left: 50%; animation-delay: 1.5s; animation-duration: 11s; }
.particle-6 { top: 70%; left: 40%; animation-delay: 2.5s; animation-duration: 10s; }

@keyframes float {
  0%, 100% {
    transform: translate3d(0, 0, 0) scale(1);
    opacity: 0.6;
  }
  50% {
    transform: translate3d(20px, -30px, 0) scale(1.2);
    opacity: 1;
  }
}

/* ========================================
   Main Content Container
   ======================================== */

.loading-content {
  position: relative;
  width: 100%;
  height: 100%;
  display: flex;
  align-items: center;
  justify-content: center;
}

/* ========================================
   Airplane Animations
   ======================================== */

.airplane {
  position: absolute;
  color: #ffffff;
  filter: drop-shadow(0 4px 12px rgba(0, 0, 0, 0.3));
  will-change: transform, top, bottom, left, right;
  z-index: 10;
  transform-origin: center;
}

.plane-icon {
  display: block;
}

/* Phase 1: Initial positions (BOTTOM corners) */
.airplane-left.phase-1 {
  bottom: 10%;
  left: 12%;
  top: auto;
  right: auto;
  transform: rotate(15deg);
}

.airplane-right.phase-1 {
  bottom: 10%;
  right: 10%;
  top: auto;
  left: auto;
  transform: scaleX(-1) rotate(15deg);
}

/* Phase 2: Airplanes fly along Bézier curve */
.airplane-left.phase-2,
.airplane-right.phase-2 {
  animation-duration: var(--plane-arc-duration);
  animation-timing-function: linear; /* Constant speed - uniform motion */
  animation-fill-mode: forwards;
}

.airplane-left.phase-2 {
  animation-name: bezierArcLeft;
}

.airplane-right.phase-2 {
  animation-name: bezierArcRight;
}

/* Bézier path lines that planes follow */
.bezier-path {
  position: absolute;
  pointer-events: none;
  width: 100%;
  height: 100%;
  top: 0;
  left: 0;
  animation: hideBezierPath var(--plane-arc-duration) ease-out forwards;
}

@keyframes hideBezierPath {
  0%, 80% {
    display: block;
    opacity: 0.3;
  }
  100% {
    display: none;
    opacity: 0;
  }
}

.bezier-path svg {
  width: 100%;
  height: 100%;
}

.bezier-path path {
  fill: none;
  stroke: rgba(14, 165, 233, 0.3);
  stroke-width: 2;
  stroke-dasharray: 10 5;
  animation: pathGlow 2s ease-in-out infinite;
}

@keyframes pathGlow {
  0%, 100% {
    opacity: 0.3;
    stroke: rgba(14, 165, 233, 0.3);
  }
  50% {
    opacity: 0.2;
    stroke: rgba(14, 165, 233, 0.6);
  }
}

/* Phase 3 & 4: Hold at center of gear, disappear */
.airplane-left.phase-3,
.airplane-left.phase-4 {
  bottom: auto;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%) rotate(45deg) scale(0.1);
  opacity: 0;
  transition: opacity 0.3s ease-out, transform 0.3s ease-out;
}

.airplane-right.phase-3,
.airplane-right.phase-4 {
  bottom: auto;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%) scaleX(-1) rotate(45deg) scale(0.1);
  opacity: 0;
  transition: opacity 0.3s ease-out, transform 0.3s ease-out;
}

/* 
  Mathematical Bézier Curve Animation - LEFT Plane (INVERTED - bottom path)
  
  Quadratic Bézier formula: B(t) = (1-t)²P₀ + 2(1-t)tP₁ + t²P₂
  
  P₀ (Start): bottom: 10%, left: 10%
  P₁ (Control): bottom: 35%, left: 30% (gentle upward curve along bottom)
  P₂ (End): bottom: 50%, left: 50% (stays at bottom, doesn't flip to top)
  
  Rotation calculated from derivative: θ = atan2(dy/dt, dx/dt)
  For Q(10,90 → 30,65 → 50,50): tangent angles adjusted to match path direction
*/
@keyframes bezierArcLeft {
  0% {
    /* t=0: P₀ position - bottom left corner */
    bottom: 10%;
    left: 10%;
    top: auto;
    right: auto;
    transform: rotate(15deg) scale(1);
    opacity: 1;
  }
  
  10% {
    /* t=0.1 */
    bottom: 12.25%;
    left: 12%;
    top: auto;
    right: auto;
    transform: rotate(17deg) scale(1.02);
    opacity: 1;
  }
  
  20% {
    /* t=0.2 */
    bottom: 15%;
    left: 14.4%;
    top: auto;
    right: auto;
    transform: rotate(19deg) scale(1.04);
    opacity: 1;
  }
  
  30% {
    /* t=0.3 */
    bottom: 18.25%;
    left: 17.2%;
    top: auto;
    right: auto;
    transform: rotate(21deg) scale(1.06);
    opacity: 1;
  }
  
  40% {
    /* t=0.4 */
    bottom: 22%;
    left: 20.4%;
    top: auto;
    right: auto;
    transform: rotate(23deg) scale(1.08);
    opacity: 1;
  }
  
  50% {
    /* t=0.5: Midpoint */
    bottom: 26.25%;
    left: 24%;
    top: auto;
    right: auto;
    transform: rotate(25deg) scale(1.1);
    opacity: 1;
  }
  
  60% {
    /* t=0.6 */
    bottom: 30%;
    left: 28%;
    top: auto;
    right: auto;
    transform: rotate(25deg) scale(1.08);
    opacity: 1;
  }
  
  70% {
    /* t=0.7 */
    bottom: 36%;
    left: 32.4%;
    top: auto;
    right: auto;
    transform: rotate(25deg) scale(1.06);
    opacity: 1;
  }
  
  80% {
    /* t=0.8 - keep using bottom (avoid switching to top which causes a jump) */
    bottom: 42%;
    left: 37.2%;
    top: auto;
    right: auto;
    /* GPU-friendly transform, continuous rotation/scale */
    transform: translate3d(0, 0, 0) rotate(25deg) scale(1.04);
    opacity: 1;
  }

  90% {
    /* t=0.9 - approach center using bottom instead of top
       (top ≈ 52% → bottom = 100% - 52% = 48%) */
    bottom: 46%;
    left: 46%;
    top: auto;
    right: auto;
    /* small translate to start centering while keeping rotation/scale continuity */
    transform: translate3d(-6%, -6%, 0) rotate(25deg) scale(0.6);
    opacity: 0.7;
  }

  100% {
    /* t=1.0 - final center. Keep bottom to remain continuous:
       bottom:50% equals top:50% positionally, so using bottom avoids layout jumps */
    bottom: 48%;
    left: 50%;
    top: auto;
    right: auto;
    /* translate(-50%,-50%) truly centers the element */
    transform: translate3d(-50%, -50%, 0) rotate(25deg) scale(0.3);
    opacity: 0;
  }
}

/* 
  Mathematical Bézier Curve Animation - RIGHT Plane (INVERTED - bottom path)
  
  Mirror of left curve with flipped X coordinates
  
  P₀ (Start): bottom: 10%, right: 10%
  P₁ (Control): bottom: 35%, right: 30%
  P₂ (End): bottom: 50%, right: 50% (stays at bottom)
*/
@keyframes bezierArcRight {
  0% {
    /* t=0: P₀ position */
    bottom: 10%;
    right: 10%;
    top: auto;
    left: auto;
    transform: scaleX(-1) rotate(11deg) scale(1);
    opacity: 1;
  }
  
  10% {
    /* t=0.1 */
    bottom: 12.25%;
    right: 12%;
    top: auto;
    left: auto;
    transform: scaleX(-1) rotate(13deg) scale(1.02);
    opacity: 1;
  }
  
  20% {
    /* t=0.2 */
    bottom: 15%;
    right: 14.4%;
    top: auto;
    left: auto;
    transform: scaleX(-1) rotate(15deg) scale(1.04);
    opacity: 1;
  }
  
  30% {
    /* t=0.3 */
    bottom: 18.25%;
    right: 17.2%;
    top: auto;
    left: auto;
    transform: scaleX(-1) rotate(17deg) scale(1.06);
    opacity: 1;
  }
  
  40% {
    /* t=0.4 */
    bottom: 22%;
    right: 20.4%;
    top: auto;
    left: auto;
    transform: scaleX(-1) rotate(19deg) scale(1.08);
    opacity: 1;
  }
  
  50% {
    /* t=0.5: Midpoint */
    bottom: 26.25%;
    right: 24%;
    top: auto;
    left: auto;
    transform: scaleX(-1) rotate(19deg) scale(1.1);
    opacity: 1;
  }
  
  60% {
    /* t=0.6 */
    bottom: 31%;
    right: 28%;
    top: auto;
    left: auto;
    transform: scaleX(-1) rotate(21deg) scale(1.08);
    opacity: 1;
  }
  
  70% {
    /* t=0.7 */
    bottom: 36.25%;
    right: 32.4%;
    top: auto;
    left: auto;
    transform: scaleX(-1) rotate(23deg) scale(1.06);
    opacity: 1;
  }
  
  80% {
    /* t=0.8 */
    bottom: 42%;
    right: 37.2%;
    top: auto;
    left: auto;
    transform: scaleX(-1) rotate(23deg) scale(1.04);
    opacity: 1;
  }
  
  90% {
    /* t=0.9 - approaching gear center */
    bottom: 46%;
    right: 46%;
    top: auto;
    left: auto;
    transform: scaleX(-1) rotate(23deg) scale(0.6);
    opacity: 0.7;
  }
  
  100% {
    /* t=1.0: P₂ final position - center of gear */
    bottom: auto;
    top: 50%;
    left: 50%;
    right: auto;
    transform: translate(-50%, -50%) scaleX(-1) rotate(23deg) scale(0.3);
    opacity: 0;
  }
}

/* Mobile-specific (gentler) Bézier keyframes - reduced rotation and scale */
@keyframes bezierArcLeftMobile {
  0% {
    bottom: 10%;
    left: 6%;
    transform: rotate(-22deg) scale(0.8);
    opacity: 1;
  }

  30% {
    bottom: 18%;
    left: 10%;
    transform: scaleX(1) rotate(-24deg) scale(0.95);
    opacity: 1;
  }

  60% {
    bottom: 32%;
    left: 22%;
    transform: scaleX(1) rotate(-16deg) scale(1.0);
    opacity: 1;
  }

  90% {
    bottom: 42%;
    left: 34%;
    transform: translate(-20%, -20%) scaleX(1) rotate(-4deg) scale(1.0);
    opacity: 0.54;
  }

  100% {
    bottom: 50%;
    left: 52%;
    transform: translate(-50%, -50%) scaleX(1) rotate(-6deg) scale(0.8);
    opacity: 0;
  }
}

@keyframes bezierArcRightMobile {
  0% {
    bottom: 10%;
    right: 8%;
    transform: scaleX(1) rotate(-65deg) scale(0.8);
    opacity: 1;
  }
  30% {
    bottom: 18%;
    right: 12%;
    transform: scaleX(1) rotate(-65deg) scale(0.95);
    opacity: 1;
  }
  60% {
    bottom: 32%;
    right: 24%;
    transform: scaleX(1) rotate(-68deg) scale(1.0);
    opacity: 1;
  }
  90% {
    bottom: 42%;
    right: 36%;
    transform: translate(-20%, -20%) scaleX(1) rotate(-88deg) scale(1.0);
    opacity: 0.54;
  }
  100% {
    bottom: 50%;
    right: 50%;
    transform: translate(-50%, -50%) scaleX(1) rotate(-82deg) scale(0.8);
    opacity: 0;
  }
}

/* ========================================
   Bézier Path Visualization
   ======================================== */

.bezier-path {
  position: absolute;
  pointer-events: none;
  width: 100%;
  height: 100%;
  top: 0;
  left: 0;
  z-index: 1;
}

/* Invert-like intersection: make bezier path visually 'cut through' the loading background
   We use `mix-blend-mode: difference` together with `isolation: isolate` on the parent
   so the path appears inverted where it overlaps the background. This provides a
   high-contrast, branded 'cut-out' effect. A CSS mask fallback is provided for
   browsers that prefer compositing or when reduced-motion is requested. */

.loading-animation-container {
  /* ensure blending is contained to the loading overlay */
  isolation: isolate;
}

.bezier-path {
  mix-blend-mode: difference; /* inverts colors where the path overlaps */
  /* Slightly raise z-index so it visually sits above subtle background elements */
  z-index: 30;
}

.bezier-path .path-line {
  fill: none;
  stroke: rgba(14, 165, 233, 0.4);
  stroke-width: 2;
  stroke-dasharray: 8 4;
  animation: pathGlow 2s ease-in-out infinite;
  vector-effect: non-scaling-stroke;
}

/* Fallback mask approach: when blend modes are not desirable or supported,
   the `.bezier-mask` class (applied to the SVG wrapper in markup) will use
   an inverse mask to punch out the path area. This requires adding the
   `bezier-mask` class to the SVG container in the component if a fallback
   is needed. Kept here for reference and progressive enhancement. */
.bezier-path.bezier-mask {
  mix-blend-mode: normal;
}

.bezier-path.bezier-mask svg {
  /* The mask should be defined in the SVG markup; this CSS ensures the masked
     element uses the mask as intended. No-op here but kept for clarity. */
  isolation: isolate;
}

@keyframes pathGlow {
  0%, 100% {
    opacity: 0.3;
    stroke: rgba(14, 165, 233, 0.3);
  }
  50% {
    opacity: 0.7;
    stroke: rgba(14, 165, 233, 0.7);
  }
}

/* ========================================
   Gear / Center Icon
   ======================================== */

.gear-container {
  position: relative;
  display: flex;
  align-items: center;
  justify-content: center;
  will-change: transform;
  transition: transform 0.3s ease-out;
}

/* Phase 4: Gear fades out, portal zooms in */
.gear-container.phase-4 {
  animation: gearFadeOut 0.5s ease-out forwards;
}

@keyframes gearFadeOut {
  to {
    opacity: 0;
    transform: scale(0.5);
  }
}

.gear-icon {
  color: #ffffff;
  filter: drop-shadow(0 8px 24px rgba(0, 0, 0, 0.4));
  animation: gearRotate var(--gear-rotation-duration) linear infinite;
  will-change: transform;
  z-index: 5;
  position: relative;
}

.gear-icon.opening {
  animation: gearRotateFast var(--gear-rotation-fast-duration) linear infinite;
}

@keyframes gearRotate {
  from { transform: rotate(0deg); }
  to { transform: rotate(360deg); }
}

@keyframes gearRotateFast {
  from { transform: rotate(0deg); }
  to { transform: rotate(360deg); }
}

/* Center Portal - The hole/circle at center of gear */
.center-portal {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  width: 20px;
  height: 20px;
  border-radius: 50%;
  background: radial-gradient(circle, rgba(255, 255, 255, 0.8) 0%, rgba(14, 165, 233, 0.4) 100%);
  box-shadow: 
    0 0 20px rgba(14, 165, 233, 0.8),
    0 0 40px rgba(14, 165, 233, 0.6),
    inset 0 0 20px rgba(255, 255, 255, 0.5);
  z-index: 25;
  will-change: transform, width, height;
  animation: portalGlow var(--portal-glow-duration) ease-in-out infinite;
}

.portal-inner {
  position: absolute;
  inset: 0;
  border-radius: 50%;
  background: radial-gradient(circle, rgba(255, 255, 255, 0.6) 0%, transparent 70%);
  animation: portalPulse 0.4s ease-in-out infinite alternate;
}

/* Portal glow effect */
@keyframes portalGlow {
  0%, 100% {
    box-shadow: 
      0 0 20px rgba(14, 165, 233, 0.8),
      0 0 40px rgba(14, 165, 233, 0.6),
      inset 0 0 20px rgba(255, 255, 255, 0.5);
  }
  50% {
    box-shadow: 
      0 0 30px rgba(14, 165, 233, 1),
      0 0 60px rgba(14, 165, 233, 0.8),
      0 0 80px rgba(255, 255, 255, 0.4),
      inset 0 0 30px rgba(255, 255, 255, 0.7);
  }
}

@keyframes portalPulse {
  0%, 100% {
    transform: scale(1);
    opacity: 0.5;
  }
  50% {
    transform: scale(1.1);
    opacity: 0.8;
  }
}

/* Gear glow effect */
.gear-glow {
  position: absolute;
  width: 140px;
  height: 140px;
  border-radius: 50%;
  background: radial-gradient(circle, rgba(14, 165, 233, 0.4) 0%, transparent 70%);
  animation: pulse 2s ease-in-out infinite;
  will-change: transform, opacity;
}

.phase-3 .gear-glow {
  animation: pulseIntense 1s ease-in-out infinite;
}

@keyframes pulse {
  0%, 100% {
    transform: scale(1);
    opacity: 0.6;
  }
  50% {
    transform: scale(1.1);
    opacity: 1;
  }
}

@keyframes pulseIntense {
  0%, 100% {
    transform: scale(1);
    opacity: 0.8;
    box-shadow: 0 0 40px rgba(14, 165, 233, 0.6);
  }
  50% {
    transform: scale(1.3);
    opacity: 1;
    box-shadow: 0 0 80px rgba(255, 255, 255, 0.8);
    display: none;
  }
}

/* Progress ring */
.progress-ring {
  position: absolute;
  width: 120px;
  height: 120px;
  transform: rotate(-90deg);
  opacity: 0.5;
  animation: hideElements var(--plane-arc-duration) ease-out forwards;
}

@keyframes hideElements {
  0%, 99% {
    display: block;
    opacity: 0.5;
  }
  100% {
    display: none;
    opacity: 0;
  }
}

.progress-ring-circle {
  stroke: rgba(255, 255, 255, 0.3);
  stroke-dasharray: 339.292;
  stroke-dashoffset: 0;
  animation: progressRing var(--progress-ring-duration) ease-out forwards;
}

@keyframes progressRing {
  from {
    stroke-dashoffset: 339.292;
  }
  to {
    stroke-dashoffset: 0;
  }
}

/* Gear opening petals */
.gear-petal {
  position: absolute;
  width: 30px;
  height: 8px;
  background: linear-gradient(90deg, rgba(255, 255, 255, 0.9), rgba(255, 255, 255, 0.5));
  border-radius: 4px;
  opacity: 0;
  animation: petalExpand 1s cubic-bezier(0.34, 1.56, 0.64, 1) forwards;
  transform-origin: center;
}

.petal-1 { animation-delay: 0s; transform: rotate(0deg); }
.petal-2 { animation-delay: 0.05s; transform: rotate(45deg); }
.petal-3 { animation-delay: 0.1s; transform: rotate(90deg); }
.petal-4 { animation-delay: 0.15s; transform: rotate(135deg); }
.petal-5 { animation-delay: 0.2s; transform: rotate(180deg); }
.petal-6 { animation-delay: 0.25s; transform: rotate(225deg); }
.petal-7 { animation-delay: 0.3s; transform: rotate(270deg); }
.petal-8 { animation-delay: 0.35s; transform: rotate(315deg); }

@keyframes petalExpand {
  0% {
    transform: scale(0) translateY(0);
    opacity: 0;
  }
  50% {
    opacity: 1;
  }
  100% {
    transform: scale(1) translateY(60px);
    opacity: 0;
  }
}

/* ========================================
   Loading Text
   ======================================== */

.loading-text {
  position: absolute;
  bottom: 35%;
  left: 50%;
  transform: translateX(-50%);
  display: flex;
  align-items: center;
  gap: 4px;
  color: #ffffff;
  font-size: 1.25rem;
  font-weight: 500;
  letter-spacing: 2px;
}

.loading-dots {
  display: flex;
  gap: 2px;
}

.dot {
  animation: dotBlink 1.4s infinite;
  opacity: 0;
}

.dot-1 { animation-delay: 0s; }
.dot-2 { animation-delay: 0.2s; }
.dot-3 { animation-delay: 0.4s; }

@keyframes dotBlink {
  0%, 20% { opacity: 0; }
  50% { opacity: 1; }
  100% { opacity: 0; }
}

.loading-brand {
  position: absolute;
  top: 25%;
  left: 50%;
  transform: translateX(-50%);
  color: rgba(255, 255, 255, 1.0);
  font-size: 2rem;
  font-weight: 700;
  letter-spacing: 4px;
  text-transform: uppercase;
  animation: hideElements var(--progress-ring-duration) ease-out forwards;
}

/* ========================================
   Pause Indicator
   ======================================== */

.pause-indicator {
  position: absolute;
  inset: 0;
  z-index: 100;
  display: flex;
  align-items: center;
  justify-content: center;
  pointer-events: auto;
}

.pause-overlay {
  position: absolute;
  inset: 0;
  background: rgba(0, 0, 0, 0.4);
  backdrop-filter: blur(4px);
  animation: fadeIn 0.3s ease-out;
}

.pause-text {
  position: relative;
  z-index: 101;
  text-align: center;
  color: #ffffff;
  animation: scaleIn 0.4s cubic-bezier(0.34, 1.56, 0.64, 1);
}

.pause-icon {
  font-size: 4rem;
  margin-bottom: 1rem;
  animation: pulseIcon 1s ease-in-out infinite;
}

.pause-label {
  font-size: 1.5rem;
  font-weight: 700;
  letter-spacing: 3px;
  margin-bottom: 0.5rem;
  text-transform: uppercase;
}

.pause-hint {
  font-size: 0.875rem;
  color: rgba(255, 255, 255, 0.8);
  letter-spacing: 1px;
}

@keyframes fadeIn {
  from {
    opacity: 0;
  }
  to {
    opacity: 1;
  }
}

@keyframes scaleIn {
  from {
    opacity: 0;
    transform: scale(0.8);
  }
  to {
    opacity: 1;
    transform: scale(1);
  }
}

@keyframes pulseIcon {
  0%, 100% {
    transform: scale(1);
  }
  50% {
    transform: scale(1.1);
  }
}

/* ========================================
   Skip Button
   ======================================== */

.skip-button {
  position: absolute;
  bottom: 10%;
  left: 50%;
  transform: translateX(-50%);
  background: rgba(255, 255, 255, 0.1);
  backdrop-filter: blur(10px);
  border: 1px solid rgba(255, 255, 255, 0.2);
  color: #ffffff;
  padding: 0.75rem 1.5rem;
  border-radius: 9999px;
  font-size: 0.875rem;
  font-weight: 500;
  cursor: pointer;
  transition: all 0.3s ease;
  animation: fadeInUp 0.5s ease-out;
}

.skip-button:hover {
  background: rgba(255, 255, 255, 0.2);
  border-color: rgba(255, 255, 255, 0.4);
  transform: translateX(-50%) translateY(-2px);
}

.skip-button:focus {
  outline: 2px solid rgba(255, 255, 255, 0.5);
  outline-offset: 2px;
}

@keyframes fadeInUp {
  from {
    opacity: 0;
    transform: translateX(-50%) translateY(20px);
  }
  to {
    opacity: 1;
    transform: translateX(-50%) translateY(0);
  }
}

/* ========================================
   Accessibility
   ======================================== */

.sr-only {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border-width: 0;
}

/* Reduced motion support */
@media (prefers-reduced-motion: reduce) {
  .loading-animation-container *,
  .loading-animation-container *::before,
  .loading-animation-container *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
  }

  .particle {
    display: none;
  }

  .airplane {
    position: static;
    display: none;
  }

  .gear-icon {
    animation: none;
  }

  .loading-text {
    position: static;
    margin-top: 2rem;
  }
}

/* Responsive overrides - slower and gentler on small screens, faster and more dynamic on large */
@media (max-width: 639px) {
  :root {
    /* Mobile: gentler, slower animations */
    --gear-rotation-duration: 1.6s;
    --gear-rotation-fast-duration: 1.2s;
    --plane-arc-duration: 4.2s;
    --particle-float-duration: 14s;
    --progress-ring-duration: 7s;
    --portal-glow-duration: 1.2s;
  }

  /* Reduce initial rotation/scale on mobile for smoother motion */
  .airplane-left.phase-1 {
    transform: rotate(8deg);
    bottom: 8%;
    left: 8%;
  }

  .airplane-right.phase-1 {
    transform: scaleX(1) rotate(-65deg) scale(0.8);
    bottom: 8%;
    right: 8%;
  }

  /* Use mobile-specific Bézier animations */
  .airplane-left.phase-2 {
    animation-name: bezierArcLeftMobile;
    animation-duration: calc(var(--plane-arc-duration) * 1.1);
  }

  .airplane-right.phase-2 {
    animation-name: bezierArcRightMobile;
    animation-duration: calc(var(--plane-arc-duration) * 1.1);
  }
}

@media (min-width: 640px) and (max-width: 1023px) {
  :root {
    /* Tablet: moderate speed */
    --gear-rotation-duration: 1.2s;
    --gear-rotation-fast-duration: 1s;
    --plane-arc-duration: 3.6s;
    --particle-float-duration: 11s;
    --progress-ring-duration: 6s;
    --portal-glow-duration: 1s;
  }
}

@media (min-width: 1024px) {
  :root {
    /* Desktop: snappier animations */
    --gear-rotation-duration: 0.9s;
    --gear-rotation-fast-duration: 0.75s;
    --plane-arc-duration: 3s;
    --particle-float-duration: 9s;
    --progress-ring-duration: 4.2s;
    --portal-glow-duration: 0.75s;
  }
}

/* ========================================
   Responsive Design
   ======================================== */

@media (max-width: 768px) {
  .gear-icon {
    width: 60px;
    height: 60px;
  }

  .airplane {
    width: 30px;
    height: 30px;
  }

  .loading-text {
    font-size: 1rem;
  }

  .loading-brand {
    font-size: 1rem;
    letter-spacing: 3px;
    animation: hideElements var(--progress-ring-duration) ease-out forwards;
  }

  .skip-button {
    font-size: 0.75rem;
    padding: 0.625rem 1.25rem;
  }
}

/* Dark mode support (if needed) */
@media (prefers-color-scheme: dark) {
  /* Already optimized for dark backgrounds */
}
